<style type="text/css" media="screen">
  ul.block {
    list-style: none;
    padding:0;
  }
</style>

<div fragment="header">
  <h2>Add new message</h2>
  <form action="/messages" method="post">
    <input type="text" name="title"><br>
    <textarea name="message"></textarea>
    <input type="submit" value="Create">
  </form>
</div>

<div fragment="list">
  {{?messages}}
  <h2>Messages</h2>
  {{/messages}}
  <ul class="block">
    {{#messages}}
    <li>
      <form fragment="message-form">
        <b>
          {{id}} (<a href="/messages/{{id}}/delete" title="Delete">X</a>) &rarr;
        </b>
        {{#object}}
          <input type="text" name="title" value="{{title}}"><br>
          <textarea name="message">{{message}}</textarea>
        {{/object}}
      </form>
    </li>
    {{/messages}}
    {{^messages}}
    <li><em>Empty</em></li>
    {{/messages}}
  </ul>
</div>
