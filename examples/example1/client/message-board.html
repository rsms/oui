<script type="text/javascript" charset="utf-8">

  oui.app.on('start', function(ev){
    console.log('start')
  });

  $(function(){
    console.log('dom')
    var form = __html.find('form');
    form.submit(function(ev){
      var msg = {};
      msg.title = form.find('input[name=title]').get(0).value;
      msg.message = form.find('textarea[name=message]').get(0).value;
      exports.pipe.send(msg, function(err){
        console.log(__name+'.postMessage() -> {err:'+err+'}');
      });
    });
  });

</script>

<style type="text/css" media="screen">
  #this form.closed { display:none; }
</style>

<form class="closed">
  <h2>Post a message</h2>
  <label>
    Title: <input type="text" name="title">
  </label>
  <label>
    Message: <textarea name="message"></textarea>
  </label>
  <input type="submit" value="Post message">
</form>
<h2>Messages</h2>
<ul class="messages">
</ul>
